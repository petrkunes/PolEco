library(PolEco)
library(PolEco)
library(PolEco)
setwd("~/Google Drive/Software/PolEco-Rcode")
### MERGE pollen-plant table with plant ecological index table
# Load training dataset based on central-European sites: 1.column - pollen taxa, 2.column - plant species
# UNPUBLISHED - WORK IN PROGRESS!!!
pollen_plants <- read.table("data_in/pollen_plants.csv", sep = ";")
# Load ecological indices for plant species
# Whole comuninty disturbance frequency (Herben et al. 2016)
# 1.C - plant species, 2.C - WCDF, 3.C - frequency in present day vegetation
plants_eco <- read.table("data_in/plants_WCDF.csv", sep = ";")
# LEFT JOIN the two tables and delete missing values
pollen_plants_eco <- merge(pollen_plants, plants_eco, by = "species", all.x = TRUE)
pollen_plants_eco <- na.omit(pollen_plants_eco)
colnames(pollen_plants_eco) <- c("Species", "Varname", "DF", "FreqVeg")
pollen_plant_dist_2019 <- read.csv("https://datadryad.org/stash/downloads/file_stream/81659")
View(pollen_plant_dist_2019)
View(plants_eco)
View(pollen_plant_dist_2019)
View(pollen_plant_dist_2019)
View(pollen_plants)
View(pollen_plant_dist_2019)
View(pollen_plants_eco)
View(pollen_plant_dist_2019)
View(pollen_plant_dist_2019)
colnames(pollen_plants_dist_2019) <- c("Species", "Varname", "DF", "FreqVeg")
colnames(pollen_plant_dist_2019) <- c("Species", "Varname", "DF", "FreqVeg")
library(devtools)
use_data(pollen_plant_dist_2019)
setwd("~/Google Drive/Software/PolEco-package")
use_data(pollen_plant_dist_2019)
library(PolEco)
library(PolEco)
library(PolEco)
library(PolEco)
library(PolEco)
library(PolEco)
?EcoIndex
library(PolEco)
?PolEco
library(PolEco)
library(PolEco)
pollen_plant_dist_2019
data()
data("pollen_plant_dist_2019")
force(pollen_plant_dist_2019)
View(pollen_plant_dist_2019)
drv <- dbDriver("PostgreSQL")
require(RPostgreSQL)
drv <- dbDriver("PostgreSQL")
con <-
dbConnect(
drv,
dbname = "PALYCZ-060116",
host = "localhost",
port = 5432,
user = "petr"
)
## DEFINE SITE AND SAMPLE ##
site_ = 1047
PC_Prasilske <- dbGetQuery(con, query1)
query1 <-
paste("select t.nombeug, habitus, count, n.depth, poldiv3, s.site_ from numbers n
join entity e on n.e_=e.e_
left join p_entity p on p.e_=e.e_
join siteloc s on s.site_=e.site_
left join age_depth a on (a.e_,a.depth)=(n.e_,n.depth)
left join chron ch on (a.e_,a.chron)=(ch.e_,ch.chron)
left join types t on n.type_id=t.type_id
where (habitus = 't' or habitus = 's' or habitus = 'd' or habitus = 'h' or habitus = 'l') AND ch.def = TRUE AND count >0 AND s.site_=", site_, "
order by n.depth", sep = "")
PC_Prasilske <- dbGetQuery(con, query1)
View(PC_Prasilske)
PC_Prasilske <- PC_Prasilske[,c("site_","depth","nombeug","count")]
colnames(PC_Prasilske) <- c("Entity","Sample","Varname","Count")
install.packages("learnr")
save(PC_Prasilske, file = "data/PC_Prasilske.rda")
library(PolEco)
Eco.Index(PC_Prasilske[1:104,], pollen_plant_dist_2019)
pollen_plant_dist_2019
